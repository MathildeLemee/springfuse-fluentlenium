<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:p="http://primefaces.org/ui"
		xmlns:app="http://springfuse.jaxio.com/app"
	    contentType="text/html" encoding="UTF-8">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${accountContext.locale}" lang="${accountContext.locale}">
    <h:head>
 		<f:facet name="first">
			<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    	    <title>${msg.Title}</title>		
        </f:facet>
 		<f:facet name="last">
		  	<h:outputStylesheet name="css/main.css" />
			<h:outputScript name="js/main.js" />
        </f:facet>
    </h:head>
    <h:body>
		<h:form id="form">
	    	<!-- regular layout (does not work with chromeshades :-( ) -->    	    	
	    	<p:layout fullPage="true" >
	
				<p:layoutUnit id="top" position="north" resizable="false" size="115">

					<div role="banner">					
						<h:panelGrid columns="3" style="width: 100%">
						    <h:outputLink value="http://www.jaxio.com/" title="Go to Jaxio" ><h:graphicImage id="logoHeader" alt="Logo Jaxio" name="img/logo-jaxio.png" style="border: 0px;"/></h:outputLink>
						    <h1 style="text-align: center;">${msg.Title}</h1>	
							<h:panelGroup>				
						        <div style="float: right;">
						            <h:outputFormat rendered="#{accountContext.account != null}" value="${accountContext.username}" style="margin-right: 5px;"/>            
						            <h:outputLink id="login" value="${facesContext.externalContext.requestContextPath}/app/login" styleClass="userInfo-user" rendered="${accountContext.account == null}"><h:outputText value="${msg.Connexion}"/></h:outputLink>
						            <h:outputLink id="logout" value="${facesContext.externalContext.requestContextPath}/app/logout" styleClass="userInfo-user" rendered="${accountContext.account != null}"><h:outputText value="${msg.Logout}"/></h:outputLink>
						            <a id="home" href="${facesContext.externalContext.requestContextPath}/app/home" class="userInfo-welcome">${msg.Home}</a>
						            <h:outputLink value="home?locale=fr" styleClass="userInfo-fr" rendered="#{!(accountContext.locale eq 'fr')}">Français</h:outputLink>
						            <h:outputLink value="home?locale=en" styleClass="userInfo-en" rendered="#{accountContext.locale eq 'fr'}">English</h:outputLink>			            
						        </div>
					        </h:panelGroup>
						</h:panelGrid>
					</div>
					<div role="navigation">					
			        	<ui:insert name="topmenu">
			        	</ui:insert>
					</div>
				</p:layoutUnit>
	
				<p:layoutUnit id="center" position="center">
		        	<ui:insert name="center"/>
				</p:layoutUnit>
	
				<p:layoutUnit id="bottom" position="south" size="50">
					<h:outputFormat rendered="#{!(accountContext.locale eq 'fr')}">
	                	<p>© 2005-2011 <a href="http://www.jaxio.com/" target="jaxio">JAXIO</a> - Generated by <a href="http://www.jaxio.com/en/celerio.html" target="_jaxio">Celerio</a> - <a href="http://www.jaxio.com/en/contact-us.html">Contact us</a> - Follow us on Twitter  <a href="http://www.twitter.com/springfuse">@springfuse</a></p>
					</h:outputFormat>                
					<h:outputFormat rendered="#{(accountContext.locale eq 'fr')}">
	                	<p>© 2005-2011 <a href="http://www.jaxio.com/" target="jaxio">JAXIO</a> - Application générée par <a href="http://www.jaxio.com/celerio.html" target="_jaxio">Celerio</a> - <a href="http://www.jaxio.com/nous-contacter.html">Contactez-nous</a> - Suivez-nous sur Twitter  <a href="http://www.twitter.com/springfuse">@springfuse</a></p>
					</h:outputFormat>                
				</p:layoutUnit>
			</p:layout>


			<p:dialog widgetVar="askForDeleteDialog" modal="true" header="Delete?" height="120" width="300">
				<p>
					<h:outputText value="${msg.Delete_item_confirm}" />
				</p>
				<br />
	            <p:commandButton id="askForDeleteDialogYes" action="deleteAndClose" ajax="false" immediate="true" process="@none" value="${msg.Yes}" image="ui-icon-check" />
	            <p:commandButton id="askForDeleteDialogNo" value="${msg.No}" onclick="askForDeleteDialog.hide(); return false;" image="ui-icon-cancel"/>                     
			</p:dialog>


			<p:dialog widgetVar="askForSaveDialog" modal="true" header="Save?" height="120" width="300">
				<p>
					<h:outputText value="${msg.Ask_for_update}" />
				</p>
				<br />
				<p:commandButton id="askForSaveDialogYes" action="saveAndClose" ajax="true" value="${msg.Yes}" 
					onstart="askForSaveDialog.hide()"					
					styleClass="aria-save-button"
					update="messages" image="ui-icon-check" />
				<p:commandButton id="askForSaveDialogNo" action="forceClose" ajax="false" 
					value="${msg.No}" image="ui-icon-cancel" immediate="true" process="@none"  />
			</p:dialog>			
		</h:form>
		<script type="text/javascript">
			// example with asynchronous google analytics
			var _gaq = _gaq || [];
			_gaq.push([ '_setAccount', 'UA-166864-24' ]); // change with your google id
			_gaq.push([ '_setCustomVar', 1, 'rootPackage', 'jsf2Prime_com.yourcompany.yourproject', 1 ]); // example of user defined variable
			_gaq.push([ '_trackPageview' ]);
	
			(function() {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl'
						: 'http://www')
						+ '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
		</script>
    </h:body>
    </html>
</f:view>